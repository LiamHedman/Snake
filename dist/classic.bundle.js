(()=>{"use strict";function e(t,n,o){var a,d;a=Math.floor(Math.random()*n),d=Math.floor(Math.random()*o);for(var r=0;r<t.snake_body.length;r++)if(a===t.snake_body[r][0]&&d===t.snake_body[r][1]||a===t.head_x&&d===t.head_y)return e(t,n,o);return[a,d]}var t,n,o,a,d,r={snake_direction:"up",velocity_x:0,velocity_y:0,has_turned:!1,snake_body:[],head_x:9,head_y:9,head_last_cords:[9,9]},i=new Image,l=new Image,c=new Image,s=new Image;i.src="../Bilder/HeadUp.png",s.src="../Bilder/HeadRight.png",l.src="../Bilder/HeadDown.png",c.src="../Bilder/HeadLeft.png";var y=document.createElement("div"),_=document.createElement("button"),h=document.createElement("button"),u=document.createElement("div"),p=0,f=!1,v=!1;function x(){var _;v||(f?function(e,t){var n=e.createElement("div");n.textContent="GAME OVER",n.style.position="relative",n.style.top="-380px",n.style.left="0",n.style.color="white",n.style.fontFamily="Press Start 2P, monospace",n.style.fontSize="100px",e.body.appendChild(n),clearInterval(t)}(document,t):(function(e,t){t.fillStyle="rgb(0, 51, 102)",t.fillRect(0,0,e.width,e.height)}(n,o),function(e,t,n,o){o.fillStyle="red",o.beginPath(),o.arc(25*t+12.5,25*n+12.5,12.5,0,2*Math.PI),o.fill()}(0,a,d,o),function(e,t,n){return e.head_x==t&&e.head_y==n&&(e.snake_body.push([t,n]),!0)}(r,a,d)&&(p=function(e,t){var n=t+Math.floor(5*Math.random()+5);return e.textContent="SCORE: "+n,n}(y,p),_=e(r,20,20),a=_[0],d=_[1]),function(e,t,n,o,a,d,r){for(var i=e.snake_body.length-1;i>0;i--)e.snake_body[i]=e.snake_body[i-1];e.snake_body.length&&(e.snake_body[0]=[e.head_x,e.head_y]),e.head_x+=e.velocity_x,e.head_y+=e.velocity_y,function(e,t,n,o,a,d,r){switch(e.snake_direction){case"up":t.drawImage(n,e.head_x*r,e.head_y*r,r,r);break;case"down":t.drawImage(o,e.head_x*r,e.head_y*r,r,r);break;case"left":t.drawImage(a,e.head_x*r,e.head_y*r,r,r);break;case"right":t.drawImage(d,e.head_x*r,e.head_y*r,r,r)}}(e,t,n,o,a,d,25)}(r,o,i,l,c,s),function(e,t,n){for(var o=0;o<t.snake_body.length;o++){var a=(void 0,void 0,r=150-3*(d=o),i=Math.min(100,3*d),"rgb(".concat(i,", ").concat(r,", 0)"));e.fillStyle=a,e.fillRect(25*t.snake_body[o][0],25*t.snake_body[o][1],25,25)}var d,r,i}(o,r),f=function(e,t,n){for(var o=0;o<e.snake_body.length;o++)if(e.head_x==e.snake_body[o][0]&&e.head_y==e.snake_body[o][1])return!0;return e.head_x<0||e.head_x>19||e.head_y<0||e.head_y>19}(r),r.has_turned=!1))}window.onload=function(){var i,l,c;(n=document.getElementById("board")).height=500,n.width=500,o=n.getContext("2d"),i=e(r,20,20),a=i[0],d=i[1],document.addEventListener("keydown",(function(e){!function(e,t){t.has_turned||("ArrowUp"==e.code&&1!=t.velocity_y?(t.snake_direction="up",t.velocity_x=0,t.velocity_y=-1):"ArrowDown"==e.code&&-1!=t.velocity_y?(t.snake_direction="down",t.velocity_x=0,t.velocity_y=1):"ArrowRight"==e.code&&-1!=t.velocity_x?(t.snake_direction="right",t.velocity_x=1,t.velocity_y=0):"ArrowLeft"==e.code&&1!=t.velocity_x&&(t.snake_direction="left",t.velocity_x=-1,t.velocity_y=0)),t.has_turned=!0}(e,r)})),t=setInterval(x,100),function(e,t){e.style.position="relative",e.style.top="0",e.style.left="0",e.style.color="black",e.style.fontFamily="Press Start 2P, monospace",e.style.fontSize="20px",e.textContent="SCORE: "+t,document.body.appendChild(e)}(y,p),(l=_).textContent="RESTART",l.style.position="relative",l.style.top="-520px",l.style.right="-180px",l.style.padding="5px 10px",l.style.fontSize="16px",l.style.cursor="pointer",l.style.color="white",l.style.backgroundColor="transparent",document.body.appendChild(l),u.innerText="Press SPACE to pause",function(e){document.body.appendChild(e)}(u),_.addEventListener("click",(function(){location.reload()})),(c=h).textContent="MENU",c.style.position="fixed",c.style.top="20px",c.style.left="20px",c.style.padding="5px 10px",c.style.fontSize="20px",c.style.cursor="pointer",c.style.color="white",c.style.backgroundColor="#003366",c.style.borderRadius="5px",document.body.appendChild(c),h.addEventListener("click",(function(){window.location.href="../index.html"}))},window.addEventListener("keydown",(function(e){"Space"===e.code&&(v?(t=setInterval(x,100),u.innerText="Press SPACE to pause"):(clearInterval(t),u.innerText="Press SPACE to resume"),v=!v)}))})();