(()=>{"use strict";function e(e,a,d,t,n,o,r,_,i,s,c,y){switch(e.snake_direction){case"up":d.drawImage(t,e.head_x*y,e.head_y*y,y,y);break;case"down":d.drawImage(n,e.head_x*y,e.head_y*y,y,y);break;case"left":d.drawImage(o,e.head_x*y,e.head_y*y,y,y);break;case"right":d.drawImage(r,e.head_x*y,e.head_y*y,y,y)}switch(a.snake_direction){case"up":d.drawImage(_,a.head_x*y,a.head_y*y,y,y);break;case"down":d.drawImage(i,a.head_x*y,a.head_y*y,y,y);break;case"left":d.drawImage(s,a.head_x*y,a.head_y*y,y,y);break;case"right":d.drawImage(c,a.head_x*y,a.head_y*y,y,y)}}function a(e,d,t){var n,o;n=Math.floor(Math.random()*d),o=Math.floor(Math.random()*t);for(var r=0;r<e.snake_body.length;r++)if(n===e.snake_body[r][0]&&o===e.snake_body[r][1]||n===e.head_x&&o===e.head_y)return a(e,d,t);return[n,o]}function d(e,a,d){return e.head_x==a&&e.head_y==d&&(e.snake_body.push([a,d]),!0)}function t(e,a,d,t,n,o,r){for(var _=e.snake_body.length-1;_>0;_--)e.snake_body[_]=e.snake_body[_-1];e.snake_body.length&&(e.snake_body[0]=[e.head_x,e.head_y]),e.head_x+=e.velocity_x,e.head_y+=e.velocity_y,function(e,a,d,t,n,o,r){switch(e.snake_direction){case"up":a.drawImage(d,e.head_x*r,e.head_y*r,r,r);break;case"down":a.drawImage(t,e.head_x*r,e.head_y*r,r,r);break;case"left":a.drawImage(n,e.head_x*r,e.head_y*r,r,r);break;case"right":a.drawImage(o,e.head_x*r,e.head_y*r,r,r)}}(e,a,d,t,n,o,r)}var n,o,r,_,i,s=25,c=document.createElement("button"),y=document.createElement("button"),l=document.createElement("div"),h=!1,x={snake_direction:"right",velocity_x:0,velocity_y:0,has_turned:!1,snake_body:[],head_x:0,head_y:0,head_last_cords:[0,0]},u={snake_direction:"left",velocity_x:0,velocity_y:0,has_turned:!1,snake_body:[],head_x:19,head_y:0,head_last_cords:[19,0]},v=new Image,g=new Image,k=new Image,p=new Image,b=new Image,f=new Image,w=new Image,m=new Image;v.src="../Bilder/HeadUp.png",p.src="../Bilder/HeadRight.png",g.src="../Bilder/HeadDown.png",k.src="../Bilder/HeadLeft.png",b.src="../Bilder/HeadUp(red).png",m.src="../Bilder/HeadRight(red).png",f.src="../Bilder/HeadDown(red).png",w.src="../Bilder/HeadLeft(red).png";var I=!1;function E(){var c,y;if(!h)if(I)!function(e,a){var d=e.createElement("div");d.textContent="GAME OVER",d.style.position="relative",d.style.top="-380px",d.style.left="0",d.style.color="white",d.style.fontFamily="Press Start 2P, monospace",d.style.fontSize="100px",e.body.appendChild(d),clearInterval(a)}(document,n);else{!function(e,a){a.fillStyle="rgb(0, 51, 102)",a.fillRect(0,0,e.width,e.height)}(o,r),function(e,a,d,t){t.fillStyle="red",t.beginPath(),t.arc(25*a+12.5,25*d+12.5,12.5,0,2*Math.PI),t.fill()}(0,_,i,r),d(x,_,i)?(c=a(x,20,20),_=c[0],i=c[1]):d(u,_,i)&&(y=a(u,20,20),_=y[0],i=y[1]),t(x,r,v,g,k,p,s),t(u,r,b,f,w,m,s),function(e,a,d){for(var t=0;t<a.snake_body.length;t++){var n=(void 0,void 0,r=150-3*(o=t),_=Math.min(100,3*o),"rgb(".concat(_,", ").concat(r,", 0)"));e.fillStyle=n,e.fillRect(25*a.snake_body[t][0],25*a.snake_body[t][1],25,25)}var o,r,_}(r,x),function(e,a,d){for(var t=0;t<a.snake_body.length;t++){var n=(void 0,void 0,r=150-3*(o=t),_=Math.min(100,3*o),"rgb(".concat(r,", ").concat(_,", 0)"));e.fillStyle=n,e.fillRect(25*a.snake_body[t][0],25*a.snake_body[t][1],25,25)}var o,r,_}(r,u),e(x,u,r,v,g,k,p,b,f,w,m,s),e(x,u,r,v,g,k,p,b,f,w,m,s),(x.head_last_cords==u.head_last_cords||x.head_x==u.head_x&&x.head_y==u.head_y||x.head_last_cords[0]==u.head_x&&x.head_last_cords[1]==u.head_y||u.head_last_cords[0]==x.head_x&&u.head_last_cords[1]==x.head_y||x.head_last_cords==u.snake_body[1]||u.head_last_cords==x.snake_body[1])&&(I=!0),(x.head_x<0||x.head_x>19||x.head_y<0||x.head_y>19)&&(I=!0);for(var l=0;l<x.snake_body.length;l++)x.head_x==x.snake_body[l][0]&&x.head_y==x.snake_body[l][1]&&(I=!0);for(l=0;l<u.snake_body.length;l++)x.head_x==u.snake_body[l][0]&&x.head_y==u.snake_body[l][1]&&(I=!0);for((u.head_x<0||u.head_x>19||u.head_y<0||u.head_y>19)&&(I=!0),l=0;l<u.snake_body.length;l++)u.head_x==u.snake_body[l][0]&&u.head_y==u.snake_body[l][1]&&(I=!0);for(l=0;l<x.snake_body.length;l++)u.head_x==x.snake_body[l][0]&&u.head_y==x.snake_body[l][1]&&(I=!0);x.head_last_cords=[x.head_x,x.head_y],u.head_last_cords=[u.head_x,u.head_y],x.has_turned=!1,u.has_turned=!1}}window.onload=function(){var e,d,t;(o=document.getElementById("board")).height=500,o.width=500,r=o.getContext("2d"),e=a(x,20,20),_=e[0],i=e[1],document.addEventListener("keydown",(function(e){!function(e,a,d){a.has_turned||("KeyW"==e.code&&1!=a.velocity_y?(a.snake_direction="up",a.velocity_x=0,a.velocity_y=-1,a.has_turned=!0):"KeyS"==e.code&&-1!=a.velocity_y?(a.snake_direction="down",a.velocity_x=0,a.velocity_y=1,a.has_turned=!0):"KeyD"==e.code&&-1!=a.velocity_x?(a.snake_direction="right",a.velocity_x=1,a.velocity_y=0,a.has_turned=!0):"KeyA"==e.code&&1!=a.velocity_x&&(a.snake_direction="left",a.velocity_x=-1,a.velocity_y=0,a.has_turned=!0)),d.has_turned||("ArrowUp"==e.code&&1!=d.velocity_y?(d.snake_direction="up",d.velocity_x=0,d.velocity_y=-1,d.has_turned=!0):"ArrowDown"==e.code&&-1!=d.velocity_y?(d.snake_direction="down",d.velocity_x=0,d.velocity_y=1,d.has_turned=!0):"ArrowRight"==e.code&&-1!=d.velocity_x?(d.snake_direction="right",d.velocity_x=1,d.velocity_y=0,d.has_turned=!0):"ArrowLeft"==e.code&&1!=d.velocity_x&&(d.snake_direction="left",d.velocity_x=-1,d.velocity_y=0,d.has_turned=!0))}(e,x,u)})),n=setInterval(E,100),(d=c).textContent="RESTART",d.style.position="relative",d.style.top="-520px",d.style.right="-180px",d.style.padding="5px 10px",d.style.fontSize="16px",d.style.cursor="pointer",d.style.color="white",d.style.backgroundColor="transparent",document.body.appendChild(d),document.body.appendChild(c),l.innerText="Press SPACE to pause",function(e){document.body.appendChild(e)}(l),c.addEventListener("click",(function(){location.reload()})),(t=y).textContent="MENU",t.style.position="fixed",t.style.top="20px",t.style.left="20px",t.style.padding="5px 10px",t.style.fontSize="20px",t.style.cursor="pointer",t.style.color="white",t.style.backgroundColor="#003366",t.style.borderRadius="5px",document.body.appendChild(t),y.addEventListener("click",(function(){window.location.href="../index.html"})),document.body.appendChild(c)},window.addEventListener("keydown",(function(e){"Space"===e.code&&(h?(n=setInterval(E,100),l.innerText="Press SPACE to pause"):(clearInterval(n),l.innerText="Press SPACE to resume"),h=!h)}))})();