(()=>{"use strict";function e(a,d,t){var n,o;n=Math.floor(Math.random()*d),o=Math.floor(Math.random()*t);for(var r=0;r<a.snake_body.length;r++)if(n===a.snake_body[r][0]&&o===a.snake_body[r][1]||n===a.headX&&o===a.headY)return e(a,d,t);return[n,o]}function a(e){var a=150-3*e,d=Math.min(100,3*e);return"rgb(".concat(d,", ").concat(a,", 0)")}var d,t,n,o,r,i="none",s=25,l=document.createElement("button"),h={snake_direction:"right",velocityX:0,velocityY:0,has_turned:!1,snake_body:[],headX:0,headY:0,head_last_cords:[0,0]},c={snake_direction:"left",velocityX:0,velocityY:0,has_turned:!1,snake_body:[],headX:19,headY:0,head_last_cords:[19,0]},y=new Image,_=new Image,k=new Image,g=new Image,p=new Image,b=new Image,u=new Image,X=new Image;y.src="../Bilder/HeadUp.png",g.src="../Bilder/HeadRight.png",_.src="../Bilder/HeadDown.png",k.src="../Bilder/HeadLeft.png",p.src="../Bilder/HeadUp(red).png",X.src="../Bilder/HeadRight(red).png",b.src="../Bilder/HeadDown(red).png",u.src="../Bilder/HeadLeft(red).png";var Y=!1,v=!1;function f(){if(Y||v){var l=document.createElement("div");return"player1"==i?l.textContent="Player one wins!":"player2"==i?l.textContent="Player two wins!":"tie"==i&&(l.textContent=i),l.style.position="relative",l.style.top="-345px",l.style.left="0",l.style.color="white",l.style.fontFamily="Press Start 2P, monospace",l.style.fontSize="70px",document.body.appendChild(l),void clearInterval(d)}n.fillStyle="rgb(0, 51, 102)",n.fillRect(0,0,t.width,t.height),n.fillStyle="red",n.beginPath(),n.arc(NaN,NaN,12.5,0,2*Math.PI),n.fill(),h.headX==o&&h.headY==r?(h.snake_body.push([o,r]),e(h,20,20)):c.headX==o&&c.headY==r&&(c.snake_body.push([o,r]),e(c,20,20));for(var f=h.snake_body.length-1;f>0;f--)h.snake_body[f]=h.snake_body[f-1];for(h.snake_body.length&&(h.snake_body[0]=[h.headX,h.headY]),f=c.snake_body.length-1;f>0;f--)c.snake_body[f]=c.snake_body[f-1];for(c.snake_body.length&&(c.snake_body[0]=[c.headX,c.headY]),f=0;f<h.snake_body.length;f++){var w=a(f);n.fillStyle=w,n.fillRect(h.snake_body[f][0]*s,h.snake_body[f][1]*s,s,s)}for(f=0;f<c.snake_body.length;f++)void 0,void 0,x=150-3*(m=f),I=Math.min(100,3*m),w="rgb(".concat(x,", ").concat(I,", 0)"),n.fillStyle=w,n.fillRect(c.snake_body[f][0]*s,c.snake_body[f][1]*s,s,s);var m,x,I;for(h.headX+=h.velocityX,h.headY+=h.velocityY,c.headX+=c.velocityX,c.headY+=c.velocityY,function(e,a,d,t,n,o,r,i,s,l,h,c){switch(e.snake_direction){case"up":d.drawImage(t,e.headX*c,e.headY*c,c,c);break;case"down":d.drawImage(n,e.headX*c,e.headY*c,c,c);break;case"left":d.drawImage(o,e.headX*c,e.headY*c,c,c);break;case"right":d.drawImage(r,e.headX*c,e.headY*c,c,c)}switch(a.snake_direction){case"up":d.drawImage(i,a.headX*c,a.headY*c,c,c);break;case"down":d.drawImage(s,a.headX*c,a.headY*c,c,c);break;case"left":d.drawImage(l,a.headX*c,a.headY*c,c,c);break;case"right":d.drawImage(h,a.headX*c,a.headY*c,c,c)}}(h,c,n,y,_,k,g,p,b,u,X,s),(h.head_last_cords==c.head_last_cords||h.headX==c.headX&&h.headY==c.headY||h.head_last_cords[0]==c.headX&&h.head_last_cords[1]==c.headY||c.head_last_cords[0]==h.headX&&c.head_last_cords[1]==h.headY||h.head_last_cords==c.snake_body[1]||c.head_last_cords==h.snake_body[1])&&(i="tie",Y=!0),(h.headX<0||h.headX>19||h.headY<0||h.headY>19)&&(i="player2",Y=!0),f=0;f<h.snake_body.length;f++)h.headX==h.snake_body[f][0]&&h.headY==h.snake_body[f][1]&&(i="player2",Y=!0);for(f=0;f<c.snake_body.length;f++)h.headX==c.snake_body[f][0]&&h.headY==c.snake_body[f][1]&&(i="player2",Y=!0);for((c.headX<0||c.headX>19||c.headY<0||c.headY>19)&&(i="player1",Y=!0),f=0;f<c.snake_body.length;f++)c.headX==c.snake_body[f][0]&&c.headY==c.snake_body[f][1]&&(i="player1",Y=!0);for(f=0;f<h.snake_body.length;f++)c.headX==h.snake_body[f][0]&&c.headY==h.snake_body[f][1]&&(i="player1",Y=!0);v=function(e,a){return"left"==e.snake_direction&&"right"==a.snake_direction&&e.headY==a.headY&&e.headX==(a.headX||a.headX-1)||"right"==e.snake_direction&&"left"==a.snake_direction&&e.headY==a.headY&&e.headX==(a.headX||a.headX+1)?(console.log("krock!"),!0):"up"==e.snake_direction&&"down"==a.snake_direction&&e.headX==a.headX&&e.headY==(a.headY||a.headY+1)||"down"==e.snake_direction&&"up"==a.snake_direction&&e.headX==a.headX&&e.headY==(a.headY||a.headY-1)}(h,c),h.head_last_cords=[h.headX,h.headY],c.head_last_cords=[c.headX,c.headY],h.has_turned=!1,c.has_turned=!1}window.onload=function(){(t=document.getElementById("board")).height=500,t.width=500,t.style.display="block",t.style.marginLeft="auto",t.style.marginRight="auto",n=t.getContext("2d"),e(h,20,20),document.addEventListener("keydown",(function(e){!function(e,a,d){a.has_turned||("KeyW"==e.code&&1!=a.velocityY?(a.snake_direction="up",a.velocityX=0,a.velocityY=-1,a.has_turned=!0):"KeyS"==e.code&&-1!=a.velocityY?(a.snake_direction="down",a.velocityX=0,a.velocityY=1,a.has_turned=!0):"KeyD"==e.code&&-1!=a.velocityX?(a.snake_direction="right",a.velocityX=1,a.velocityY=0,a.has_turned=!0):"KeyA"==e.code&&1!=a.velocityX&&(a.snake_direction="left",a.velocityX=-1,a.velocityY=0,a.has_turned=!0)),d.has_turned||("ArrowUp"==e.code&&1!=d.velocityY?(d.snake_direction="up",d.velocityX=0,d.velocityY=-1,d.has_turned=!0):"ArrowDown"==e.code&&-1!=d.velocityY?(d.snake_direction="down",d.velocityX=0,d.velocityY=1,d.has_turned=!0):"ArrowRight"==e.code&&-1!=d.velocityX?(d.snake_direction="right",d.velocityX=1,d.velocityY=0,d.has_turned=!0):"ArrowLeft"==e.code&&1!=d.velocityX&&(d.snake_direction="left",d.velocityX=-1,d.velocityY=0,d.has_turned=!0))}(e,h,c)})),d=setInterval(f,80);var a=document.createElement("button");a.textContent="RESTART",a.style.position="relative",a.style.top="-492.5px",a.style.right="-180px",a.style.padding="5px 10px",a.style.fontSize="16px",a.style.cursor="pointer",a.style.color="white",a.style.backgroundColor="transparent",document.body.appendChild(a),a.addEventListener("click",(function(){location.reload()})),function(e){e.textContent="MENU",e.style.position="fixed",e.style.top="20px",e.style.left="20px",e.style.padding="5px 10px",e.style.fontSize="20px",e.style.cursor="pointer",e.style.color="white",e.style.backgroundColor="#003366",e.style.borderRadius="5px",document.body.appendChild(e)}(l),l.addEventListener("click",(function(){window.location.href="../index.html"})),document.body.appendChild(a)}})();