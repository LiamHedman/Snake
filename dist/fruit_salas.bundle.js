(()=>{"use strict";function e(e,t){var n=t+Math.floor(5*Math.random()+5);return e.textContent="SCORE: "+n,n}function t(e,n,o){var a,d;a=Math.floor(Math.random()*n),d=Math.floor(Math.random()*o);for(var r=0;r<e.snake_body.length;r++)if(a===e.snake_body[r][0]&&d===e.snake_body[r][1]||a===e.head_x&&d===e.head_y)return t(e,n,o);return[a,d]}function n(e,t,n,o,a){a.fillStyle=o,a.beginPath(),a.arc(t*e+e/2,n*e+e/2,e/2,0,2*Math.PI),a.fill()}function o(e,t,n){return e.head_x==t&&e.head_y==n&&(e.snake_body.push([t,n]),!0)}var a,d,r,i,l,c,s,y,_,h,u,p,f,v,x,b=25,g=20,m=20,k={snake_direction:"up",velocity_x:0,velocity_y:0,has_turned:!1,snake_body:[],head_x:9,head_y:9,head_last_cords:[9,9]},w=new Image,E=new Image,C=new Image,S=new Image;w.src="../Bilder/HeadUp.png",S.src="../Bilder/HeadRight.png",E.src="../Bilder/HeadDown.png",C.src="../Bilder/HeadLeft.png";var I=document.createElement("div"),P=document.createElement("button"),M=document.createElement("button"),R=document.createElement("div"),A=0,L=!1,B=!1;function T(){var P,M,R,T,z,H;B||(L?function(e,t){var n=e.createElement("div");n.textContent="GAME OVER",n.style.position="relative",n.style.top="-380px",n.style.left="0",n.style.color="white",n.style.fontFamily="Press Start 2P, monospace",n.style.fontSize="100px",e.body.appendChild(n),clearInterval(t)}(document,a):(function(e,t){t.fillStyle="rgb(0, 51, 102)",t.fillRect(0,0,e.width,e.height)}(d,r),n(b,i,l,"red",r),n(b,c,s,"blue",r),n(b,y,_,"yellow",r),n(b,h,u,"orange",r),n(b,p,f,"green",r),n(b,v,x,"purple",r),o(k,i,l)&&(A=e(I,A),P=t(k,m,g),i=P[0],l=P[1]),o(k,c,s)&&(A=e(I,A),M=t(k,m,g),c=M[0],s=M[1]),o(k,y,_)&&(A=e(I,A),R=t(k,m,g),_=R[0],_=R[1]),o(k,h,u)&&(A=e(I,A),T=t(k,m,g),h=T[0],u=T[1]),o(k,p,f)&&(A=e(I,A),z=t(k,m,g),p=z[0],f=z[1]),o(k,v,x)&&(A=e(I,A),H=t(k,m,g),v=H[0],x=H[1]),function(e,t,n,o,a,d,r){for(var i=e.snake_body.length-1;i>0;i--)e.snake_body[i]=e.snake_body[i-1];e.snake_body.length&&(e.snake_body[0]=[e.head_x,e.head_y]),e.head_x+=e.velocity_x,e.head_y+=e.velocity_y,function(e,t,n,o,a,d,r){switch(e.snake_direction){case"up":t.drawImage(n,e.head_x*r,e.head_y*r,r,r);break;case"down":t.drawImage(o,e.head_x*r,e.head_y*r,r,r);break;case"left":t.drawImage(a,e.head_x*r,e.head_y*r,r,r);break;case"right":t.drawImage(d,e.head_x*r,e.head_y*r,r,r)}}(e,t,n,o,a,d,25)}(k,r,w,E,C,S),function(e,t,n){for(var o=0;o<t.snake_body.length;o++){var a=(void 0,void 0,r=150-3*(d=o),i=Math.min(100,3*d),"rgb(".concat(i,", ").concat(r,", 0)"));e.fillStyle=a,e.fillRect(25*t.snake_body[o][0],25*t.snake_body[o][1],25,25)}var d,r,i}(r,k),L=function(e,t,n){for(var o=0;o<e.snake_body.length;o++)if(e.head_x==e.snake_body[o][0]&&e.head_y==e.snake_body[o][1])return!0;return e.head_x<0||e.head_x>19||e.head_y<0||e.head_y>19}(k),k.has_turned=!1))}window.onload=function(){var e,n,o,b,w,E,C,S;(d=document.getElementById("board")).height=500,d.width=500,r=d.getContext("2d"),e=t(k,m,g),i=e[0],l=e[1],n=t(k,m,g),c=n[0],s=n[1],o=t(k,m,g),y=o[0],_=o[1],b=t(k,m,g),h=b[0],u=b[1],w=t(k,m,g),p=w[0],f=w[1],E=t(k,m,g),v=E[0],x=E[1],document.addEventListener("keydown",(function(e){!function(e,t){t.has_turned||("ArrowUp"==e.code&&1!=t.velocity_y?(t.snake_direction="up",t.velocity_x=0,t.velocity_y=-1):"ArrowDown"==e.code&&-1!=t.velocity_y?(t.snake_direction="down",t.velocity_x=0,t.velocity_y=1):"ArrowRight"==e.code&&-1!=t.velocity_x?(t.snake_direction="right",t.velocity_x=1,t.velocity_y=0):"ArrowLeft"==e.code&&1!=t.velocity_x&&(t.snake_direction="left",t.velocity_x=-1,t.velocity_y=0)),t.has_turned=!0}(e,k)})),a=setInterval(T,100),function(e,t){e.style.position="relative",e.style.top="0",e.style.left="0",e.style.color="black",e.style.fontFamily="Press Start 2P, monospace",e.style.fontSize="20px",e.textContent="SCORE: "+t,document.body.appendChild(e)}(I,A),(C=P).textContent="RESTART",C.style.position="relative",C.style.top="-520px",C.style.right="-180px",C.style.padding="5px 10px",C.style.fontSize="16px",C.style.cursor="pointer",C.style.color="white",C.style.backgroundColor="transparent",document.body.appendChild(C),R.innerText="Press SPACE to pause",function(e){document.body.appendChild(e)}(R),P.addEventListener("click",(function(){location.reload()})),(S=M).textContent="MENU",S.style.position="fixed",S.style.top="20px",S.style.left="20px",S.style.padding="5px 10px",S.style.fontSize="20px",S.style.cursor="pointer",S.style.color="white",S.style.backgroundColor="#003366",S.style.borderRadius="5px",document.body.appendChild(S),M.addEventListener("click",(function(){window.location.href="../index.html"}))},window.addEventListener("keydown",(function(e){"Space"===e.code&&(B?(a=setInterval(T,100),R.innerText="Press SPACE to pause"):(clearInterval(a),R.innerText="Press SPACE to resume"),B=!B)}))})();